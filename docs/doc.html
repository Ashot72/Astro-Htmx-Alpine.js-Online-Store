<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:22.0pt;line-height:107%'>Astro-Htmx-Alpine.js Online Store</span></p>

<p class=MsoNormal><span style='font-size:22.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Video Link: <a
href="https://github.com/Ashot72/Astro-Htmx-Alpine.js-Online-Store"
target="_blank">https://github.com/Ashot72/Astro-Htmx-Alpine.js-Online-Store</a></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>GitHub
Repository: <a href="https://youtu.be/TFCaattUjUs" target="_blank">https://youtu.be/TFCaattUjUs</a></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Astro</span></b><span
style='font-size:14.0pt;line-height:107%'> </span><a href="https://astro.build/"
target="_blank"><span style='font-size:14.0pt;line-height:107%'>https://astro.build/</span></a><span
style='font-size:14.0pt;line-height:107%'> is an open-source framework. It is
focused on performance and content-heavy websites like landing pages</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>blogs,
technical documentation and more.</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Htmx </span></b><a
href="https://htmx.org/docs/" target="_blank"><span style='font-size:14.0pt;
line-height:107%'>https://htmx.org/docs/</span></a><b><span style='font-size:
14.0pt;line-height:107%'> </span></b><span style='font-size:14.0pt;line-height:
107%'>is a library that allows you to access modern browser features directly
from HTML, rather using JavaScript.</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Alpine.js</span></b><span
style='font-size:14.0pt;line-height:107%'> </span><a
href="https://alpinejs.dev/" target="_blank"><span style='font-size:14.0pt;
line-height:107%'>https://alpinejs.dev/</span></a><span style='font-size:14.0pt;
line-height:107%'> is a minimal framework for composing JavaScript behavior in
your markup.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Unlike some
other frameworks, Astro is HTML-first, outputs zero JavaScript by default, and
supports both static site generation (SSG) and</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>server-side
rendering (SSR).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1001 height=655 id="Picture 1" src="doc_files/image001.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 1</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In our
project, we use server-side rendering with Node.js integration. You can read
more about it at </span><a
href="https://docs.astro.build/en/guides/integrations-guide/node/"
target="_blank"><span style='font-size:14.0pt;line-height:107%'>https://docs.astro.build/en/guides/integrations-guide/node/</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1088 height=646 id="Picture 2" src="doc_files/image002.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 2</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Astro
components are similar to Svelte: JavaScript, HTML, and CSS are clearly
separated. It does not use JSX. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Inside three
dashes, we write the Astro component in JavaScript, and everything here will be
run on the server.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1128 height=449 id="Picture 4" src="doc_files/image003.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 3</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For
authentication, we use Astro <i>middleware</i>, which allows us to intercept
requests and responses and inject behaviors </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>dynamically
every time a page or endpoint is about to be rendered.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1199 height=791 id="Picture 3" src="doc_files/image004.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 4</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Astro uses
file-based routing to generate your build URLs based on the file layout of your
project</span><span style='font-size:14.0pt;line-height:107%;color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'>s <i>src/pages</i> directory.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We will use
Htmx with Astro, and the main concept behind Htmx is the ability to send AJAX
requests directly from HTML. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is
possible thanks to attributes such as <i>hx-get</i>, <i>hx-post</i>, etc.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1245 height=873 id="Picture 6" src="doc_files/image005.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 5</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let</span><span
style='font-size:14.0pt;line-height:107%;color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'>s click on the second category. You
will see that a GET request is sent, and an <i>Hx-Request</i> header with the
value of <i>true</i> which means that an Htmx request is sent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1005 height=534 id="Picture 7" src="doc_files/image006.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 6</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is the
category div we clicked. Let</span><span style='font-size:14.0pt;line-height:
107%;color:black'>'</span><span style='font-size:14.0pt;line-height:107%'>s
understand what is going on.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1231 height=619 id="Picture 8" src="doc_files/image007.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 7</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>hx-get
attribute will cause an element to issue a GET to the specified URL and swap
the HTML into the DOM using a swap strategy that we are going to explore.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1326 height=607 id="Picture 9" src="doc_files/image008.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 8</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Before
understanding the response, let</span><span style='font-size:14.0pt;line-height:
107%;color:black'>'</span><span style='font-size:14.0pt;line-height:107%'>s see
why we have two cases returned.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1342 height=561 id="Picture 10" src="doc_files/image009.jpg"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 9</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%;color:#0D0D0D;
background:white'>Layouts are Astro components used to provide a reusable UI
structure, such as a page template. A typical Astro layout component provides
Astro with a page shell </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%;color:#0D0D0D;
background:white'>(including &lt;html&gt;, &lt;head&gt;, and &lt;body&gt; tags)
and a &lt;slot /&gt; to specify individual page content that should be
injected. </span><span style='font-size:14.0pt;line-height:107%'>You will
notice that when an Htmx response is not sent, </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>we include
the response in the layout.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1125 height=766 id="Picture 11"
src="doc_files/image010.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 10</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This happens
when you are on the page and directly refresh it. In this case, we have to
embed the response inside the layout.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1341 height=603 id="Picture 12"
src="doc_files/image011.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 11</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%;color:#0D0D0D;
background:white'>Let</span><span style='font-size:14.0pt;line-height:107%;
color:black'>'</span><span style='font-size:14.0pt;line-height:107%;color:#0D0D0D;
background:white'>s consider the case (Figure 5) when you click on the second
category and receive the response. You see that the response is composed of two
parts.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1374 height=453 id="Picture 13"
src="doc_files/image012.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 12</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Actually, we
can inspect and see that we received an HTML response composed of two parts. In
the first part we received online store categories. The first part consists </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>of the
online store categories that we received.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1395 height=496 id="Picture 14"
src="doc_files/image013.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 13</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The next
attribute is the hx-target.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1283 height=787 id="Picture 15"
src="doc_files/image014.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 14</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The
hx-target attribute allows you to target a different element for swapping than
the one issuing the AJAX request.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=859 height=704 id="Picture 16"
src="doc_files/image015.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 15</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Then the
hx-swap is use with the outerHTML.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1124 height=646 id="Picture 17"
src="doc_files/image016.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 16</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The hx-swap
attribute allows us to specify how the response will be swapped in relative to
the target f an Ajax request. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1172 height=603 id="Picture 18"
src="doc_files/image017.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 17</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>What we did
so far is receive the categories HTML and render it in the respective section.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1022 height=619 id="Picture 19"
src="doc_files/image018.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 18</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The lats
htmx attribute is hx-push-url.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1262 height=644 id="Picture 20"
src="doc_files/image019.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 19</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The
hx-push-url attribute allows us to push the URL into the browser history. This
creates a new history entry, allowing navigation with the browser</span><span
style='font-size:14.0pt;line-height:107%;color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'>s back and forward buttons.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1126 height=588 id="Picture 21"
src="doc_files/image020.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 20</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>With the
hx-push-url attribute, the part in the red rectangle in the URL will be
rendered when switching from one category to another, and with the back button,
</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>you will
navigate to the previous category. If hx-push-url is not specified, then in the
URL, you will always see localhost:4321 when switching from one category to
another, </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and clicking
the back button will not redirect you to the previous category.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The second
part we received (Figure 12) is the category products and it has hx-swap-oob
attribute.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1209 height=643 id="Picture 23"
src="doc_files/image021.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 21</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The
hx-swap-oob attribute allows us to specify that some content in a response
should be swapped into the DOM somewhere other than the target.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1242 height=632 id="Picture 24"
src="doc_files/image022.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 22</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>So, with
hx-swap-oob, we render the category products in the respective section.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1225 height=617 id="Picture 25"
src="doc_files/image023.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 23</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is the
section we rendered via hx-swap-oob.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1351 height=873 id="Picture 26"
src="doc_files/image024.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 24</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Astro page
component can now be identified as a partial page, which will render its HTML
content without including a DOCTYPE declaration nor any head content. We mark</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>any page as
a partial by setting the <i>partial</i> option in the component frontmatter <i>export
const partial = true</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1356 height=659 id="Picture 27"
src="doc_files/image025.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 25</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We click on
the Edit button and receive the content to render.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1075 height=727 id="Picture 28"
src="doc_files/image026.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 26</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We received
the response with partial enabled. Now let</span><span style='font-size:14.0pt;
line-height:107%;color:black'>'</span><span style='font-size:14.0pt;line-height:
107%'>s comment it out and try again.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1156 height=623 id="Picture 29"
src="doc_files/image027.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 27</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Without the <i>partial</i>,
we received extra information that we actually do not need.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1125 height=617 id="Picture 30"
src="doc_files/image028.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 28</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%;color:#0D0D0D;
background:white'>By the way, we included the htmx package and two htmx
extensions in the layout. We will discuss the extensions.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1322 height=799 id="Picture 31"
src="doc_files/image029.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 29</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The
multi-swap extension allows us to swap multiple elements marked with the id
attribute from the HTML response.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=924 height=737 id="Picture 32"
src="doc_files/image030.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 30</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>To enable
it, we have to install it and set the hx-ext=multi-swap attribute on the body
or some parent element.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We use the
multi-swap extension in the app because with hx-swap-oob, we cannot achieve the
result we want.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1212 height=490 id="Picture 33"
src="doc_files/image031.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 31</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We specified
hx-swap on one with <i>catTable</i> target and another one with <i>editCategoryDiv</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1331 height=433 id="Picture 34"
src="doc_files/image032.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 32</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is the
catTable section.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1333 height=749 id="Picture 35"
src="doc_files/image033.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 33</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is the
editCategoryDiv section.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1354 height=646 id="Picture 36"
src="doc_files/image034.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 34</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When you
click on Update Category (Figure 33) and everything is successful, we swap the
response and see the updated category.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=908 height=678 id="Picture 37"
src="doc_files/image035.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 35</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%;color:#0D0D0D;
background:white'>In this case, we see that we got a warning that
#editCategoryDiv was not found, and it is true, as in the response (Figure 34),
there is not an HTML element with that id.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1265 height=776 id="Picture 38"
src="doc_files/image036.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 36</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In this
case, when we receive a validation error, we return the modal dialog.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1344 height=651 id="Picture 39"
src="doc_files/image037.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 37</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When we encounter
a validation error while updating a category, we simply return the same modal
dialog, rendering validation errors.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1059 height=772 id="Picture 40"
src="doc_files/image038.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 38</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In this
case, the #catTable element is not available in the response because there was
a validation error, and we did not render the categories list.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1163 height=737 id="Picture 41"
src="doc_files/image039.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 39</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When we
click on Update Category, we see that both the Category Update and Cancel
buttons are disabled, and also Update Category changes to <i>Wait</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=846 height=777 id="Picture 42"
src="doc_files/image040.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 40</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The
hx-disabled-elt attribute from htmx is used.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1223 height=767 id="Picture 43"
src="doc_files/image041.png"><span style='font-size:14.0pt;line-height:107%'> </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 41</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The
hx-disabled-elt attribute allows us to specify elements that will have the
disabled attribute added to them for the duration of the request.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1254 height=669 id="Picture 44"
src="doc_files/image042.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 42</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The hx-indicator
attribute from htmx is used.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1235 height=793 id="Picture 45"
src="doc_files/image043.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 43</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The hx-indicator
attribute allows us to specify the element that will have the htmx-request
class added to it for the duration of the request.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1438 height=717 id="Picture 46"
src="doc_files/image044.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 44</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Another htmx
attribute that we used is hx-confirm when attempting to delete a category.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1444 height=788 id="Picture 47"
src="doc_files/image045.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 45</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The
hx-confirm attribute allows us to confirm an action before issuing a request.
This can be useful in cases where the action is destructive and you want to
ensure that the user really</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>wants to do
it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1290 height=775 id="Picture 48"
src="doc_files/image046.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 46</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Another
extension that we used in our app is response-targets. It allows us to specify
different target elements to be swapped when different HTTP response codes are
received.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=821 height=866 id="Picture 49"
src="doc_files/image047.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 47</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here is an
example of its usage.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1264 height=591 id="Picture 50"
src="doc_files/image048.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 48</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Suppose we
delete a category and receive a category deletion exception. We return a 400
response from the code and should render it on the page. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>First, we
register it on the category div component with hx-ext=response-targets.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1304 height=675 id="Picture 51"
src="doc_files/image049.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 49</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When we
click on a category Delete button and receive an error, we should render the
error above the category list.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=946 height=769 id="Picture 52"
src="doc_files/image050.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 50</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let</span><span
style='font-size:14.0pt;line-height:107%;color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'>s test it by throwing an error.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1179 height=402 id="Picture 53"
src="doc_files/image051.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 51</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Category
deletion error.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1307 height=748 id="Picture 54"
src="doc_files/image052.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 52</span></p>

<p class=MsoNormal><a href="https://docs.astro.build/en/concepts/islands/"
target="_blank"><span style='font-size:14.0pt;line-height:107%'>https://docs.astro.build/en/concepts/islands/</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Because
Astro outputs zero JavaScript by default, the bundle size does not increase for
each new framework. Each component gets server-rendered and turned into static
HTML.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If you want
interactivity, you need to add the client:load directive, and then the
framework</span><span style='font-size:14.0pt;line-height:107%;color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'>s runtime will be loaded client-side.
This is an implementation of what</span><span style='font-size:14.0pt;
line-height:107%;color:black'>'</span><span style='font-size:14.0pt;line-height:
107%'>s called island architecture.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=735 height=678 id="Picture 55"
src="doc_files/image053.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 53</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The idea of
island architecture is to build websites that are static-first, and restrict
interactivity (and the JavaScript associated with it) to specific parts. These
parts are</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>isolated <i>islands</i>
and loaded after the main content, which remains static.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1306 height=704 id="Picture 56"
src="doc_files/image054.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 54</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In our app
we use <i>StripeCheckout </i>react component.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1326 height=681 id="Picture 57"
src="doc_files/image055.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 55</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>What we need
first is to integrate React into Astro </span><a
href="https://docs.astro.build/en/guides/integrations-guide/react/"
target="_blank"><span style='font-size:14.0pt;line-height:107%'>https://docs.astro.build/en/guides/integrations-guide/react/</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1360 height=655 id="Picture 58"
src="doc_files/image056.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 56</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You see that
we have a Checkout.jsx React component, which is called by the Cart.astro
component and uses the client:only=&quot;react&quot; directive.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1377 height=687 id="Picture 59"
src="doc_files/image057.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 57</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>There is a
point I would like to discuss related to a cart item</span><span
style='font-size:14.0pt;line-height:107%;color:black'>'</span><span
style='font-size:14.0pt;line-height:107%'>s incrementation, decrementation,
deletion, and the total value rendered on the Stripe payment dialog.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1384 height=693 id="Picture 60"
src="doc_files/image058.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 58</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Say you
click on increment (plus icon) (Figure 57) and want to increment the item
count. By clicking it, we send a request to the /cart/addOrRemove endpoint. The
response is composed </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>of two
sections. First, we update the cart section (not all the carts), then we update
the total via hx-out-oob.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1403 height=650 id="Picture 62"
src="doc_files/image059.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 59</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>After
clicking the increment (+) icon, we received a response containing two parts.
We update the cart sections and the total value, but there is an issue here.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1160 height=645 id="Picture 63"
src="doc_files/image060.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 60</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The reason
is that when you perform an action (increment, decrement), you will see the
total value changed, but the value on the dialog will still be the old one. It
will not change.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=862 height=858 id="Picture 64"
src="doc_files/image061.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 61</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When you
navigate to the cart page, for example, by selecting a product, then Cart.astro
is called, and the total value is rendered both on the page and set as a value
to the Checkout</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>(StripeCheckout)
React component.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=852 height=843 id="Picture 65"
src="doc_files/image062.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 62</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>But when you
click on an increment (+) button, the total value is changed via hx-swap-oob attribute
and rendered, but it is not updated in the Checkout control, so you see the old
value on the <i>Pay</i> dialog.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1215 height=588 id="Picture 66"
src="doc_files/image063.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 53</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Htmx
supports JavaScript API.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1171 height=620 id="Picture 67"
src="doc_files/image064.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 54</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can make
an Ajax request.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1342 height=733 id="Picture 68"
src="doc_files/image065.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 55</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>After we
swap the total value, we make a call to the /cart/cart endpoint and render the
entire cart section to obtain the latest total value.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1230 height=823 id="Picture 69"
src="doc_files/image066.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 66</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Now when the
Cart.astro is rendered we will have the latest total value in both places.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1256 height=658 id="Picture 70"
src="doc_files/image067.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 67</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here, the
second request to the <i>cart</i> endpoint is made via the Htmx JavaScript API
after the first addOrRemove request, and the cart section is rendered, so the
Pay dialog </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>has the
latest total value.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1273 height=839 id="Picture 71"
src="doc_files/image068.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 68</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The hx-boost
attribute allows us to boost normal anchors and form tags to use AJAX request.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1309 height=657 id="Picture 76"
src="doc_files/image069.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 69</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;line-height:107%;font-family:
"Segoe UI",sans-serif;color:#0D0D0D;background:white'>We specified hx-boost
attribute on the body tag and all anchors with <i>href</i> attribute and form
that uses <i>action</i> attribute will boost.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1030 height=671 id="Picture 75"
src="doc_files/image070.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 70</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we do not
specify hx-boost attribute and navigate form one link to another or <i>Sign Out</i>
we will see the loading icon refreshing but with the hx-boost it works kind </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>of Single
Page App (SPA) and it updates the content SPA like and no page refresh will
take place.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1250 height=828 id="Picture 77"
src="doc_files/image071.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 71</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When we
click on the Add Category link, a modal dialog opens, but you can see that no
network request is made.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1218 height=688 id="Picture 78"
src="doc_files/image072.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 72</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In the case
of Edit Category, we make an Htmx request to bring up the modal dialog.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1329 height=694 id="Picture 79"
src="doc_files/image073.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 73</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>By clicking
the <i>Edit</i> button (Figure 72), we call the /categories/edit/id endpoint
and get the modal dialog to render.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=877 height=845 id="Picture 80"
src="doc_files/image074.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 74</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The reason
we can display the dialog without making a request is that we have the modal
dialog code inside the NewCategory.astro file and show it using Alpine.js.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1262 height=733 id="Picture 81"
src="doc_files/image075.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 75</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>First, we
have to integrate Alpine.js into Astro. </span><a
href="https://docs.astro.build/en/guides/integrations-guide/alpinejs/"
target="_blank"><span style='font-size:14.0pt;line-height:107%'>https://docs.astro.build/en/guides/integrations-guide/alpinejs/</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=940 height=831 id="Picture 83"
src="doc_files/image076.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 76</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Alpine.js is
a rugged, minimal tool for composing behavior directly in your markup. Think of
it like jQuery for the modern web.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The x-data
defines a chunk of HTML as an Alpine component and provides the reactive data
for that component to reference.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The x-init
directive allows you to hook into the initialization phase of any element in
Alpine.js</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=831 height=836 id="Picture 86"
src="doc_files/image077.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 77</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Note, each
time we open the modal, in the x-init we call htmx.process, pointing to the
form Id.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1261 height=728 id="Picture 87"
src="doc_files/image078.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 78</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Unlike on
the server, the client-side code will execute after the page has loaded and
therefore after Htmx has checked for known attributes. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Therefore,
whenever we dynamically set or change Htmx attributes with the help of
client-side JavaScript code, Htmx will ignore those attributes, </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>or to be
precise, it simply will not detect them. You must make Htmx aware of those
attributes, and we can do that by calling htmx.process().</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1245 height=694 id="Picture 88"
src="doc_files/image079.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 79</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>With the
help of Alpine.js keydown events, modifiers, and refs, we can, for example, add
a category by hitting Shift+Enter.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1266 height=718 id="Picture 89"
src="doc_files/image080.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 80</span></p>

<p class=MsoNormal><span style='font-family:"Segoe UI",sans-serif;color:#0D0D0D;
background:white'>When we get a validation error, we just render the Add
Category modal with validation errors by swapping it</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1334 height=600 id="Picture 90"
src="doc_files/image081.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 81</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When
clicking Add Category, we call the /categories/new endpoint, and if there is a
validation error, we display the modal with the validation errors.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=882 height=854 id="Picture 91"
src="doc_files/image082.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 82</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we get
validation errors and try to close the modal by clicking the Cancel button,
then attempt to reopen the modal by clicking the Add Category link, we </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>will still
see the validation errors. For that reason, once we click the Cancel button, we
clear out all validation errors, text fields, and text area entries.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

</div>

</body>

</html>
